2022-08-18 18:20:56,916 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.3.Final
2022-08-18 18:20:56,915 INFO [main] org.springframework.boot.StartupInfoLogger: Starting QuantumMoneyApplication using Java 11.0.14.1 on AvasMacBook with PID 3978 (/Users/avas/IdeaProjects/QuantumMoney/build/classes/java/main started by avas in /Users/avas/IdeaProjects/QuantumMoney)
2022-08-18 18:20:56,924 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.2, Spring v5.3.22
2022-08-18 18:20:56,926 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2022-08-18 18:20:58,451 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 5500 (http)
2022-08-18 18:20:58,458 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-5500"]
2022-08-18 18:20:58,459 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2022-08-18 18:20:58,460 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-08-18 18:20:58,551 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2022-08-18 18:20:58,552 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1578 ms
2022-08-18 18:20:59,120 INFO [main] org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2022-08-18 18:20:59,153 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-5500"]
2022-08-18 18:20:59,166 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 5500 (http) with context path ''
2022-08-18 18:20:59,192 INFO [main] org.springframework.boot.StartupInfoLogger: Started QuantumMoneyApplication in 2.711 seconds (JVM running for 3.854)
2022-08-18 18:20:59,444 INFO [RMI TCP Connection(2)-192.168.1.77] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-18 18:20:59,445 INFO [RMI TCP Connection(2)-192.168.1.77] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2022-08-18 18:20:59,445 INFO [RMI TCP Connection(2)-192.168.1.77] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 0 ms
2022-08-18 18:22:24,293 INFO [http-nio-5500-exec-2] ru.netology.quantummoney.controller.MoneyTransferController: Create new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600001012', cardFromValidTill='08/22', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=9, currency='RUB'}, confirmOperation=null}
2022-08-18 18:22:26,712 INFO [http-nio-5500-exec-3] ru.netology.quantummoney.repository.MoneyTransferRepository: Перевод подтвержден MoneyTransfer{id=1, cardFromNumber='1115666600001012', cardFromValidTill='08/22', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=9, currency='RUB'}, confirmOperation=ConfirmOperation{operationId='1', code='0000', transferFee=0.09}}
2022-08-18 18:54:33,650 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.3.Final
2022-08-18 18:54:33,650 INFO [main] org.springframework.boot.StartupInfoLogger: Starting QuantumMoneyApplication using Java 11.0.14.1 on AvasMacBook with PID 4299 (/Users/avas/IdeaProjects/QuantumMoney/build/classes/java/main started by avas in /Users/avas/IdeaProjects/QuantumMoney)
2022-08-18 18:54:33,669 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.2, Spring v5.3.22
2022-08-18 18:54:33,672 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2022-08-18 18:54:34,936 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 5500 (http)
2022-08-18 18:54:34,945 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-5500"]
2022-08-18 18:54:34,946 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2022-08-18 18:54:34,947 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-08-18 18:54:35,046 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2022-08-18 18:54:35,048 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1319 ms
2022-08-18 18:54:35,579 INFO [main] org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2022-08-18 18:54:35,626 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-5500"]
2022-08-18 18:54:35,641 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 5500 (http) with context path ''
2022-08-18 18:54:35,664 INFO [main] org.springframework.boot.StartupInfoLogger: Started QuantumMoneyApplication in 2.486 seconds (JVM running for 3.54)
2022-08-18 18:54:36,281 INFO [RMI TCP Connection(2)-192.168.1.77] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-18 18:54:36,283 INFO [RMI TCP Connection(2)-192.168.1.77] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2022-08-18 18:54:36,285 INFO [RMI TCP Connection(2)-192.168.1.77] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2022-08-18 18:54:44,815 INFO [http-nio-5500-exec-2] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid value: Must be value > 0, id: = 0
2022-08-18 18:55:31,097 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromNumber: Must be 16 characters | Invalid value: Must be value > 0, id: = 0
2022-08-18 18:55:37,866 INFO [http-nio-5500-exec-6] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromNumber: Must be 16 characters, id: = 0
2022-08-18 18:55:42,424 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromNumber: Must be 16 characters, id: = 0
2022-08-18 18:55:49,114 INFO [http-nio-5500-exec-10] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromNumber: Must be 16 characters, id: = 0
2022-08-18 18:55:57,197 INFO [http-nio-5500-exec-2] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromNumber: Must be 16 characters, id: = 0
2022-08-18 18:56:00,989 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/21', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:01,046 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid input data: card expired 05/21, id: = 0
2022-08-18 18:56:13,947 INFO [http-nio-5500-exec-6] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/22', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:13,949 INFO [http-nio-5500-exec-6] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid input data: card expired 05/22, id: = 0
2022-08-18 18:56:18,194 INFO [http-nio-5500-exec-7] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/23', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:18,202 INFO [http-nio-5500-exec-7] ru.netology.quantummoney.service.MoneyTransferService: The input data Money Transfer is correct!
2022-08-18 18:56:18,203 INFO [http-nio-5500-exec-7] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer added to Map<Long, MoneyTransfer> operationId = 1
2022-08-18 18:56:23,909 INFO [http-nio-5500-exec-9] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardFromCVV: Must be min 3 characters, id: = 0
2022-08-18 18:56:28,883 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/23', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:28,895 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.service.MoneyTransferService: The input data Money Transfer is correct!
2022-08-18 18:56:28,896 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer added to Map<Long, MoneyTransfer> operationId = 2
2022-08-18 18:56:31,777 INFO [http-nio-5500-exec-2] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid cardToNumber: Must be 16 characters, id: = 0
2022-08-18 18:56:35,172 INFO [http-nio-5500-exec-3] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/23', cardFromCVV='123', cardToNumber='5555636200001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:35,173 INFO [http-nio-5500-exec-3] ru.netology.quantummoney.service.MoneyTransferService: The input data Money Transfer is correct!
2022-08-18 18:56:35,174 INFO [http-nio-5500-exec-3] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer added to Map<Long, MoneyTransfer> operationId = 3
2022-08-18 18:56:41,906 INFO [http-nio-5500-exec-5] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid currency: Must be 3 characters (RUB/USD/EUR), id: = 0
2022-08-18 18:56:46,878 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='1115666600101892', cardFromValidTill='05/23', cardFromCVV='123', cardToNumber='5555636200001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=null}
2022-08-18 18:56:46,880 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.service.MoneyTransferService: The input data Money Transfer is correct!
2022-08-18 18:56:46,881 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer added to Map<Long, MoneyTransfer> operationId = 4
2022-08-18 18:56:53,157 INFO [http-nio-5500-exec-7] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='1', code='0000', transferFee=0.0}
2022-08-18 18:56:53,170 INFO [http-nio-5500-exec-7] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer confirmed MoneyTransfer{id=1, cardFromNumber='1115666600101892', cardFromValidTill='05/23', cardFromCVV='123', cardToNumber='5555666600001111', amount=Amount{value=67899, currency='RUB'}, confirmOperation=ConfirmOperation{operationId='1', code='0000', transferFee=678.99}}
2022-08-18 18:56:55,303 INFO [http-nio-5500-exec-9] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='1', code='0000', transferFee=0.0}
2022-08-18 18:56:55,306 INFO [http-nio-5500-exec-9] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: The transfer has already been confirmed, id: = 1
2022-08-18 18:57:06,005 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid code: Must be min 4 characters, id: = 0
2022-08-18 18:57:16,924 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Invalid code: Must be min 4 characters, id: = 0
2022-08-18 18:57:21,078 INFO [http-nio-5500-exec-5] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='10', code='2304', transferFee=0.0}
2022-08-18 18:57:21,080 INFO [http-nio-5500-exec-5] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Not found operationId, id: = 10
2022-08-18 18:57:23,074 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='10', code='2304', transferFee=0.0}
2022-08-18 18:57:23,079 INFO [http-nio-5500-exec-8] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Not found operationId, id: = 10
2022-08-18 18:59:42,420 INFO [http-nio-5500-exec-9] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='10', code='2304', transferFee=0.0}
2022-08-18 18:59:42,431 INFO [http-nio-5500-exec-9] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Not found operationId, id: = 10
2022-08-18 18:59:43,198 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='10', code='2304', transferFee=0.0}
2022-08-18 18:59:43,201 INFO [http-nio-5500-exec-1] ru.netology.quantummoney.advice.ExceptionHandlerAdvice: message: Not found operationId, id: = 10
2022-08-18 19:00:48,163 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.controller.MoneyTransferController: Creating new money transfer MoneyTransfer{id=0, cardFromNumber='2134242523521451', cardFromValidTill='01/23', cardFromCVV='123', cardToNumber='2151246346346346', amount=Amount{value=235500, currency='RUR'}, confirmOperation=null}
2022-08-18 19:00:48,165 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.service.MoneyTransferService: The input data Money Transfer is correct!
2022-08-18 19:00:48,166 INFO [http-nio-5500-exec-4] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer added to Map<Long, MoneyTransfer> operationId = 5
2022-08-18 19:00:48,181 INFO [http-nio-5500-exec-5] ru.netology.quantummoney.controller.MoneyTransferController: Confirming operation money transfer ConfirmOperation{operationId='5', code='0000', transferFee=0.0}
2022-08-18 19:00:48,182 INFO [http-nio-5500-exec-5] ru.netology.quantummoney.repository.MoneyTransferRepository: Money Transfer confirmed MoneyTransfer{id=5, cardFromNumber='2134242523521451', cardFromValidTill='01/23', cardFromCVV='123', cardToNumber='2151246346346346', amount=Amount{value=235500, currency='RUR'}, confirmOperation=ConfirmOperation{operationId='5', code='0000', transferFee=2355.0}}
